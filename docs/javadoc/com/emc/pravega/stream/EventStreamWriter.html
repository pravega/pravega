<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_121) on Fri Feb 17 18:10:19 IST 2017 -->
<title>EventStreamWriter (host API)</title>
<meta name="date" content="2017-02-17">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="EventStreamWriter (host API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/emc/pravega/stream/EventStreamReader.html" title="interface in com.emc.pravega.stream"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/emc/pravega/stream/EventWriterConfig.html" title="class in com.emc.pravega.stream"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/emc/pravega/stream/EventStreamWriter.html" target="_top">Frames</a></li>
<li><a href="EventStreamWriter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.emc.pravega.stream</div>
<h2 title="Interface EventStreamWriter" class="title">Interface EventStreamWriter&lt;Type&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>Type</code> - The type of events that go in this stream</dd>
</dl>
<dl>
<dt>All Superinterfaces:</dt>
<dd>java.lang.AutoCloseable</dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">EventStreamWriter&lt;Type&gt;</span>
extends java.lang.AutoCloseable</pre>
<div class="block">A writer can write events to a stream.
 
 This class is safe to use across t'hreads, but doing so will not increase performance.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../com/emc/pravega/stream/Transaction.html" title="interface in com.emc.pravega.stream">Transaction</a>&lt;<a href="../../../../com/emc/pravega/stream/EventStreamWriter.html" title="type parameter in EventStreamWriter">Type</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/emc/pravega/stream/EventStreamWriter.html#beginTxn-long-">beginTxn</a></span>(long&nbsp;transactionTimeout)</code>
<div class="block">Start a new transaction on this stream.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/emc/pravega/stream/EventStreamWriter.html#close--">close</a></span>()</code>
<div class="block">Calls flush and then closes the writer.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/emc/pravega/stream/EventStreamWriter.html#flush--">flush</a></span>()</code>
<div class="block">Block until all events that have been passed to writeEvent's corresponding futures have completed.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/emc/pravega/stream/EventWriterConfig.html" title="class in com.emc.pravega.stream">EventWriterConfig</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/emc/pravega/stream/EventStreamWriter.html#getConfig--">getConfig</a></span>()</code>
<div class="block">Returns the configuration that this writer was create with.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../com/emc/pravega/stream/Transaction.html" title="interface in com.emc.pravega.stream">Transaction</a>&lt;<a href="../../../../com/emc/pravega/stream/EventStreamWriter.html" title="type parameter in EventStreamWriter">Type</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/emc/pravega/stream/EventStreamWriter.html#getTxn-java.util.UUID-">getTxn</a></span>(java.util.UUID&nbsp;transactionId)</code>
<div class="block">Returns a previously created transaction.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.concurrent.Future&lt;java.lang.Void&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/emc/pravega/stream/EventStreamWriter.html#writeEvent-java.lang.String-Type-">writeEvent</a></span>(java.lang.String&nbsp;routingKey,
          <a href="../../../../com/emc/pravega/stream/EventStreamWriter.html" title="type parameter in EventStreamWriter">Type</a>&nbsp;event)</code>
<div class="block">Send an event to the stream.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="writeEvent-java.lang.String-java.lang.Object-">
<!--   -->
</a><a name="writeEvent-java.lang.String-Type-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeEvent</h4>
<pre>java.util.concurrent.Future&lt;java.lang.Void&gt;&nbsp;writeEvent(java.lang.String&nbsp;routingKey,
                                                       <a href="../../../../com/emc/pravega/stream/EventStreamWriter.html" title="type parameter in EventStreamWriter">Type</a>&nbsp;event)</pre>
<div class="block">Send an event to the stream. Events that are written should appear in the stream exactly once
 in the order they were written. (If there are multiple writers they may be interleaved but
 any event written after the future of another writeEvent call has completed, will come after the fir)
 
 
 Note that the implementation provides retry logic to handle connection failures and service
 host failures. Internal retries will not violate the exactly once semantic so it is better to
 rely on them than to wrap this with custom retry logic.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>routingKey</code> - A free form string that is used to route messages to readers. Two events
        written with the same routingKey are guaranteed to be read in order. Two events with
        different routing keys may be read in parallel.</dd>
<dd><code>event</code> - The event to be written to the stream</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A future that will complete when the event has been durably stored on the configured
         number of replicas, and is available for readers to see. This future may complete
         exceptionally if this cannot happen, however these exceptions are not transient
         failures. Failures that occur as a result of connection drops or host death are
         handled internally with multiple retires and exponential backoff. So there is no need
         to attempt to retry in the event of an exception.</dd>
</dl>
</li>
</ul>
<a name="beginTxn-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beginTxn</h4>
<pre><a href="../../../../com/emc/pravega/stream/Transaction.html" title="interface in com.emc.pravega.stream">Transaction</a>&lt;<a href="../../../../com/emc/pravega/stream/EventStreamWriter.html" title="type parameter in EventStreamWriter">Type</a>&gt;&nbsp;beginTxn(long&nbsp;transactionTimeout)</pre>
<div class="block">Start a new transaction on this stream.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transactionTimeout</code> - The number of milliseconds after now, that if commit has not been called by, the
            transaction may be aborted. Note that this should not be set unnecessarily high, as having long running
            transactions may interfere with a streams to scale in response to a change in rate. For this reason
            streams may configure an upper limit to this value.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A transaction through which multiple events can be written atomically.</dd>
</dl>
</li>
</ul>
<a name="getTxn-java.util.UUID-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTxn</h4>
<pre><a href="../../../../com/emc/pravega/stream/Transaction.html" title="interface in com.emc.pravega.stream">Transaction</a>&lt;<a href="../../../../com/emc/pravega/stream/EventStreamWriter.html" title="type parameter in EventStreamWriter">Type</a>&gt;&nbsp;getTxn(java.util.UUID&nbsp;transactionId)</pre>
<div class="block">Returns a previously created transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transactionId</code> - The result retained from calling <a href="../../../../com/emc/pravega/stream/Transaction.html#getTxnId--"><code>Transaction.getTxnId()</code></a></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>transaction object with given UUID</dd>
</dl>
</li>
</ul>
<a name="getConfig--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConfig</h4>
<pre><a href="../../../../com/emc/pravega/stream/EventWriterConfig.html" title="class in com.emc.pravega.stream">EventWriterConfig</a>&nbsp;getConfig()</pre>
<div class="block">Returns the configuration that this writer was create with.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>writer configuration</dd>
</dl>
</li>
</ul>
<a name="flush--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre>void&nbsp;flush()</pre>
<div class="block">Block until all events that have been passed to writeEvent's corresponding futures have completed.</div>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>void&nbsp;close()</pre>
<div class="block">Calls flush and then closes the writer. (No further methods may be called)</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/emc/pravega/stream/EventStreamReader.html" title="interface in com.emc.pravega.stream"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/emc/pravega/stream/EventWriterConfig.html" title="class in com.emc.pravega.stream"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/emc/pravega/stream/EventStreamWriter.html" target="_top">Frames</a></li>
<li><a href="EventStreamWriter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
