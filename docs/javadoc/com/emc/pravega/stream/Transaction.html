<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_121) on Fri Feb 17 18:10:19 IST 2017 -->
<title>Transaction (host API)</title>
<meta name="date" content="2017-02-17">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Transaction (host API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/emc/pravega/stream/StreamConfiguration.html" title="interface in com.emc.pravega.stream"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/emc/pravega/stream/Transaction.Status.html" title="enum in com.emc.pravega.stream"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/emc/pravega/stream/Transaction.html" target="_top">Frames</a></li>
<li><a href="Transaction.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.emc.pravega.stream</div>
<h2 title="Interface Transaction" class="title">Interface Transaction&lt;Type&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>Type</code> - The type of events in the associated stream.</dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">Transaction&lt;Type&gt;</span></pre>
<div class="block">Provides a mechanism for writing many events atomically.
 A Transaction is unbounded in size but is bounded in time. If it has not been committed within a time window
 specified  at the time of its creation it will be automatically aborted.
 
 All methods on this class may block.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Interface and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/emc/pravega/stream/Transaction.Status.html" title="enum in com.emc.pravega.stream">Transaction.Status</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/emc/pravega/stream/Transaction.html#abort--">abort</a></span>()</code>
<div class="block">Drops the transaction, causing all events written to it to be deleted.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/emc/pravega/stream/Transaction.Status.html" title="enum in com.emc.pravega.stream">Transaction.Status</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/emc/pravega/stream/Transaction.html#checkStatus--">checkStatus</a></span>()</code>
<div class="block">Gets the status of the transaction.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/emc/pravega/stream/Transaction.html#commit--">commit</a></span>()</code>
<div class="block">Causes all messages previously written to the transaction to go into the stream contiguously.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/emc/pravega/stream/Transaction.html#flush--">flush</a></span>()</code>
<div class="block">Blocks until all events passed to <a href="../../../../com/emc/pravega/stream/Transaction.html#writeEvent-java.lang.String-Type-"><code>writeEvent(String, Object)</code></a> make it to durable storage.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.UUID</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/emc/pravega/stream/Transaction.html#getTxnId--">getTxnId</a></span>()</code>
<div class="block">Returns a unique ID that can be used to identify this transaction.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/emc/pravega/stream/Transaction.html#writeEvent-java.lang.String-Type-">writeEvent</a></span>(java.lang.String&nbsp;routingKey,
          <a href="../../../../com/emc/pravega/stream/Transaction.html" title="type parameter in Transaction">Type</a>&nbsp;event)</code>
<div class="block">Sends an event to the stream just like <a href="../../../../com/emc/pravega/stream/EventStreamWriter.html#writeEvent-java.lang.String-Type-"><code>EventStreamWriter.writeEvent(java.lang.String, Type)</code></a> but with the caveat that the message will not be
 visible to anyone until <a href="../../../../com/emc/pravega/stream/Transaction.html#commit--"><code>commit()</code></a> is called.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getTxnId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTxnId</h4>
<pre>java.util.UUID&nbsp;getTxnId()</pre>
<div class="block">Returns a unique ID that can be used to identify this transaction.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Unique identifier of the transaction</dd>
</dl>
</li>
</ul>
<a name="writeEvent-java.lang.String-java.lang.Object-">
<!--   -->
</a><a name="writeEvent-java.lang.String-Type-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeEvent</h4>
<pre>void&nbsp;writeEvent(java.lang.String&nbsp;routingKey,
                <a href="../../../../com/emc/pravega/stream/Transaction.html" title="type parameter in Transaction">Type</a>&nbsp;event)
         throws <a href="../../../../com/emc/pravega/stream/TxnFailedException.html" title="class in com.emc.pravega.stream">TxnFailedException</a></pre>
<div class="block">Sends an event to the stream just like <a href="../../../../com/emc/pravega/stream/EventStreamWriter.html#writeEvent-java.lang.String-Type-"><code>EventStreamWriter.writeEvent(java.lang.String, Type)</code></a> but with the caveat that the message will not be
 visible to anyone until <a href="../../../../com/emc/pravega/stream/Transaction.html#commit--"><code>commit()</code></a> is called.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>routingKey</code> - The Routing Key to use for writing.</dd>
<dd><code>event</code> - The Event to write.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/emc/pravega/stream/TxnFailedException.html" title="class in com.emc.pravega.stream">TxnFailedException</a></code> - The Transaction is no longer in state <a href="../../../../com/emc/pravega/stream/Transaction.Status.html#OPEN"><code>Transaction.Status.OPEN</code></a></dd>
</dl>
</li>
</ul>
<a name="flush--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre>void&nbsp;flush()
    throws <a href="../../../../com/emc/pravega/stream/TxnFailedException.html" title="class in com.emc.pravega.stream">TxnFailedException</a></pre>
<div class="block">Blocks until all events passed to <a href="../../../../com/emc/pravega/stream/Transaction.html#writeEvent-java.lang.String-Type-"><code>writeEvent(String, Object)</code></a> make it to durable storage.
 This is only needed if the transaction is going to be serialized.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/emc/pravega/stream/TxnFailedException.html" title="class in com.emc.pravega.stream">TxnFailedException</a></code> - The Transaction is no longer in state <a href="../../../../com/emc/pravega/stream/Transaction.Status.html#OPEN"><code>Transaction.Status.OPEN</code></a></dd>
</dl>
</li>
</ul>
<a name="commit--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre>void&nbsp;commit()
     throws <a href="../../../../com/emc/pravega/stream/TxnFailedException.html" title="class in com.emc.pravega.stream">TxnFailedException</a></pre>
<div class="block">Causes all messages previously written to the transaction to go into the stream contiguously.
 This operation will either fully succeed making all events consumable or fully fail such that none of them are.
 There may be some time delay before readers see the events after this call has returned.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/emc/pravega/stream/TxnFailedException.html" title="class in com.emc.pravega.stream">TxnFailedException</a></code> - The Transaction is no longer in state <a href="../../../../com/emc/pravega/stream/Transaction.Status.html#OPEN"><code>Transaction.Status.OPEN</code></a></dd>
</dl>
</li>
</ul>
<a name="abort--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abort</h4>
<pre>void&nbsp;abort()</pre>
<div class="block">Drops the transaction, causing all events written to it to be deleted.</div>
</li>
</ul>
<a name="checkStatus--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>checkStatus</h4>
<pre><a href="../../../../com/emc/pravega/stream/Transaction.Status.html" title="enum in com.emc.pravega.stream">Transaction.Status</a>&nbsp;checkStatus()</pre>
<div class="block">Gets the status of the transaction.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>current status of the transaction</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/emc/pravega/stream/StreamConfiguration.html" title="interface in com.emc.pravega.stream"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/emc/pravega/stream/Transaction.Status.html" title="enum in com.emc.pravega.stream"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/emc/pravega/stream/Transaction.html" target="_top">Frames</a></li>
<li><a href="Transaction.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
